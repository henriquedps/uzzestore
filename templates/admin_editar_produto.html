{% extends "base.html" %}

{% block title %}Editar Produto - Admin{% endblock %}

{% block head %}
<style>
.admin-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
}

.admin-header {
    background: var(--card);
    padding: 30px;
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    margin-bottom: 30px;
    text-align: center;
}

.admin-form {
    background: var(--card);
    padding: 40px;
    border-radius: var(--radius);
    box-shadow: var(--shadow);
}

.form-group {
    margin-bottom: 20px;
}

.form-group label {
    display: block;
    margin-bottom: 8px;
    font-weight: 600;
    color: var(--text);
}

.form-group input,
.form-group select,
.form-group textarea {
    width: 100%;
    padding: 12px;
    border: 1px solid var(--border);
    border-radius: var(--radius);
    font-size: 1rem;
    transition: border-color 0.2s;
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(124,58,237,0.1);
}

.form-group textarea {
    min-height: 100px;
    resize: vertical;
}

.form-actions {
    display: flex;
    gap: 16px;
    justify-content: center;
    margin-top: 30px;
}

.btn {
    padding: 12px 24px;
    border-radius: var(--radius);
    text-decoration: none;
    font-weight: 600;
    border: none;
    cursor: pointer;
    transition: all 0.2s;
}

.btn-primary {
    background: var(--primary);
    color: white;
}

.btn-secondary {
    background: var(--text-muted);
    color: white;
}

.btn:hover {
    opacity: 0.8;
    transform: translateY(-1px);
}

.preview-imagem {
    max-width: 200px;
    max-height: 200px;
    object-fit: cover;
    border-radius: var(--radius);
    margin-top: 12px;
    display: block;
}

@media (max-width: 768px) {
    .form-actions {
        flex-direction: column;
    }
}
</style>
{% endblock %}

{% block content %}
<div class="admin-container">
    <div class="admin-header">
        <h1>âœï¸ Editar Produto</h1>
        <p>Altere as informaÃ§Ãµes do produto</p>
    </div>
    
    <form method="POST" class="admin-form">
        <div class="form-group">
            <label for="nome">Nome do Produto:</label>
            <input type="text" id="nome" name="nome" value="{{ produto.nome }}" required>
        </div>
        
        <div class="form-group">
            <label for="categoria">Categoria:</label>
            <select id="categoria" name="categoria" required>
                <option value="">Selecione uma categoria</option>
                <option value="Camisetas" {{ 'selected' if produto.categoria == 'Camisetas' else '' }}>ğŸ‘• Camisetas</option>
                <option value="CalÃ§as" {{ 'selected' if produto.categoria == 'CalÃ§as' else '' }}>ğŸ‘– CalÃ§as</option>
                <option value="Blusas" {{ 'selected' if produto.categoria == 'Blusas' else '' }}>ğŸ‘š Blusas</option>
                <option value="Vestidos" {{ 'selected' if produto.categoria == 'Vestidos' else '' }}>ğŸ‘— Vestidos</option>
                <option value="Camisas" {{ 'selected' if produto.categoria == 'Camisas' else '' }}>ğŸ‘” Camisas</option>
                <option value="Saias" {{ 'selected' if produto.categoria == 'Saias' else '' }}>ğŸ©± Saias</option>
                <option value="Blazers" {{ 'selected' if produto.categoria == 'Blazers' else '' }}>ğŸ§¥ Blazers</option>
                <option value="Jaquetas" {{ 'selected' if produto.categoria == 'Jaquetas' else '' }}>ğŸ§¥ Jaquetas</option>
                <option value="AcessÃ³rios" {{ 'selected' if produto.categoria == 'AcessÃ³rios' else '' }}>ğŸ‘œ AcessÃ³rios</option>
                <option value="CalÃ§ados" {{ 'selected' if produto.categoria == 'CalÃ§ados' else '' }}>ğŸ‘Ÿ CalÃ§ados</option>
                <option value="Infantil" {{ 'selected' if produto.categoria == 'Infantil' else '' }}>ğŸ§’ Infantil</option>
                <option value="Plus Size" {{ 'selected' if produto.categoria == 'Plus Size' else '' }}>â• Plus Size</option>
                <option value="Moda Praia" {{ 'selected' if produto.categoria == 'Moda Praia' else '' }}>ğŸ–ï¸ Moda Praia</option>
                <option value="Esporte" {{ 'selected' if produto.categoria == 'Esporte' else '' }}>ğŸƒ Esporte</option>
                <option value="Casual" {{ 'selected' if produto.categoria == 'Casual' else '' }}>ğŸ‘– Casual</option>
                <option value="Formal" {{ 'selected' if produto.categoria == 'Formal' else '' }}>ğŸ© Formal</option>
                <option value="Moda Intima" {{ 'selected' if produto.categoria == 'Moda Intima' else '' }}>ğŸ›ï¸ Moda Intima</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="preco">PreÃ§o (R$):</label>
            <input type="number" step="0.01" id="preco" name="preco" value="{{ produto.preco }}" required>
        </div>
        
        <div class="form-group">
            <label for="imagem">URL da Imagem:</label>
            <input type="url" id="imagem" name="imagem" value="{{ produto.imagem or '' }}" placeholder="https://exemplo.com/imagem.jpg">
            {% if produto.imagem %}
                <img src="{{ produto.imagem }}" alt="Preview" class="preview-imagem" id="preview">
            {% endif %}
        </div>
        
        <div class="form-group">
            <label for="descricao">DescriÃ§Ã£o:</label>
            <textarea id="descricao" name="descricao" placeholder="DescriÃ§Ã£o detalhada do produto...">{{ produto.descricao or '' }}</textarea>
        </div>
        
        <div class="form-actions">
            <button type="submit" class="btn btn-primary">ğŸ’¾ Salvar AlteraÃ§Ãµes</button>
            <a href="{{ url_for('admin_produtos') }}" class="btn btn-secondary">âŒ Cancelar</a>
        </div>
    </form>
</div>

<script>
// Preview da imagem
document.getElementById('imagem').addEventListener('input', function(e) {
    const url = e.target.value;
    const preview = document.getElementById('preview');
    
    if (url) {
        if (!preview) {
            const img = document.createElement('img');
            img.id = 'preview';
            img.className = 'preview-imagem';
            e.target.parentNode.appendChild(img);
        }
        document.getElementById('preview').src = url;
    } else if (preview) {
        preview.remove();
    }
});
</script>
{% endblock %}