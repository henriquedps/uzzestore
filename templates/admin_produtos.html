{% extends "base.html" %}

{% block title %}Gerenciar Produtos - Admin{% endblock %}

{% block content %}
<div class="products-container">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
        <h1>ðŸ“¦ Gerenciar Produtos</h1>
        <div>
            <a href="{{ url_for('admin_dashboard') }}" style="margin-right: 15px; color: #666;">Dashboard</a>
            <a href="{{ url_for('admin_novo_produto') }}" style="background: #28a745; color: white; padding: 10px 20px; text-decoration: none; border-radius: 6px; margin-right: 15px;">Novo Produto</a>
            <a href="{{ url_for('logout') }}" style="color: #e74c3c;">Sair</a>
        </div>
    </div>
    
    {% if produtos %}
        <div style="background: white; border-radius: 12px; overflow: hidden; border: 1px solid #eee;">
            <table style="width: 100%; border-collapse: collapse;">
                <thead style="background: #f8f9fa;">
                    <tr>
                        <th style="padding: 15px; text-align: left; border-bottom: 1px solid #eee;">Imagem</th>
                        <th style="padding: 15px; text-align: left; border-bottom: 1px solid #eee;">Nome</th>
                        <th style="padding: 15px; text-align: left; border-bottom: 1px solid #eee;">PreÃ§o</th>
                        <th style="padding: 15px; text-align: left; border-bottom: 1px solid #eee;">Categoria</th>
                        <th style="padding: 15px; text-align: center; border-bottom: 1px solid #eee;">AÃ§Ãµes</th>
                    </tr>
                </thead>
                <tbody>
                    {% for produto in produtos %}
                    <tr style="border-bottom: 1px solid #f0f0f0;">
                        <td style="padding: 15px;">
                            {% if produto.imagem %}
                                <img src="{{ produto.imagem }}" alt="{{ produto.nome }}" 
                                     style="width: 60px; height: 60px; object-fit: cover; border-radius: 8px;">
                            {% else %}
                                <div style="width: 60px; height: 60px; background: #f0f0f0; border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                                    ðŸ“¦
                                </div>
                            {% endif %}
                        </td>
                        <td style="padding: 15px; font-weight: 500;">{{ produto.nome }}</td>
                        <td style="padding: 15px; font-weight: bold; color: #1a1a1a;">{{ produto.preco|currency }}</td>
                        <td style="padding: 15px;">{{ produto.categoria or 'Sem categoria' }}</td>
                        <td style="padding: 15px; text-align: center;">
                            <a href="{{ url_for('admin_editar_produto', produto_id=produto.id) }}" 
                               style="background: #007bff; color: white; padding: 8px 15px; text-decoration: none; border-radius: 4px; font-size: 12px; margin-right: 5px;">
                                Editar
                            </a>
                            <a href="{{ url_for('admin_deletar_produto', produto_id=produto.id) }}" 
                               onclick="return confirm('Tem certeza que deseja deletar este produto?')"
                               style="background: #dc3545; color: white; padding: 8px 15px; text-decoration: none; border-radius: 4px; font-size: 12px;">
                                Deletar
                            </a>
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    {% else %}
        <div style="text-align: center; padding: 80px 20px; background: white; border-radius: 12px;">
            <h3>Nenhum produto cadastrado</h3>
            <p style="margin: 20px 0; color: #666;">Adicione produtos para comeÃ§ar a vender</p>
            <a href="{{ url_for('admin_novo_produto') }}" 
               style="background: #28a745; color: white; padding: 15px 30px; text-decoration: none; border-radius: 6px;">
                Adicionar Primeiro Produto
            </a>
        </div>
    {% endif %}
</div>
{% endblock %}