{% extends "base.html" %}

{% block title %}Carrinho - UzzeStore{% endblock %}

{% block content %}
<div class="products-container">
    <h1>Meu Carrinho</h1>
    
    {% if itens %}
        <div style="background: white; padding: 30px; border-radius: 12px; margin-bottom: 30px;">
            {% for item in itens %}
                <div style="display: flex; align-items: center; padding: 20px 0; border-bottom: 1px solid #eee;">
                    <div style="width: 100px; height: 100px; margin-right: 20px;">
                        {% if item.produto.imagem %}
                            <img src="{{ item.produto.imagem }}" alt="{{ item.produto.nome }}" 
                                 style="width: 100%; height: 100%; object-fit: cover; border-radius: 8px;">
                        {% else %}
                            <div style="width: 100%; height: 100%; background: #f0f0f0; border-radius: 8px; display: flex; align-items: center; justify-content: center;">
                                ðŸ‘•
                            </div>
                        {% endif %}
                    </div>
                    
                    <div style="flex: 1;">
                        <h3>{{ item.produto.nome }}</h3>
                        <p style="color: #666;">Quantidade: {{ item.quantidade }}</p>
                        <p style="font-weight: bold; color: #1a1a1a;">{{ item.produto.preco|currency }}</p>
                    </div>
                    
                    <div style="text-align: right;">
                        <p style="font-size: 18px; font-weight: bold;">{{ item.subtotal|currency }}</p>
                        <a href="{{ url_for('carrinho_remover', produto_id=item.produto.id) }}" 
                           style="color: #e74c3c; text-decoration: none; font-size: 14px;">
                            Remover
                        </a>
                    </div>
                </div>
            {% endfor %}
            
            <div style="text-align: right; margin-top: 20px; padding-top: 20px; border-top: 2px solid #eee;">
                <h2>Total: {{ total|currency }}</h2>
                <div style="margin-top: 20px;">
                    <a href="{{ url_for('carrinho_limpar') }}" 
                       style="background: #666; color: white; padding: 12px 20px; text-decoration: none; border-radius: 6px; margin-right: 15px;">
                        Limpar Carrinho
                    </a>
                    <button style="background: #1a1a1a; color: white; border: none; padding: 12px 30px; border-radius: 6px; cursor: pointer;">
                        Finalizar Compra
                    </button>
                </div>
            </div>
        </div>
    {% else %}
        <div style="text-align: center; padding: 80px 20px; background: white; border-radius: 12px;">
            <h3>Seu carrinho estÃ¡ vazio</h3>
            <p style="margin: 20px 0; color: #666;">Adicione produtos para continuar suas compras</p>
            <a href="{{ url_for('index') }}" 

            
               style="background: #1a1a1a; color: white; padding: 15px 30px; text-decoration: none; border-radius: 6px;">
                Continuar Comprando
            </a>
        </div>
    {% endif %}
</div>
{% endblock %}